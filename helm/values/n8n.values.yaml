main:
  persistence:
    enabled: true
    type: dynamic
    storageClass: "longhorn"
    accessMode: ReadWriteOnce
    size: 2Gi
  
  config:
    GENERIC_TIMEZONE: "America/New_York"
    N8N_SECURE_COOKIE: "false"  # False allows both HTTP (.home) and HTTPS (.arjunreddie.com)
    WEBHOOK_URL: "https://n8n.arjunreddie.com"
    N8N_HOST: "n8n.arjunreddie.com"

  # Use extraEnv for N8N_PORT to override K8s Service injection
  extraEnv:
    N8N_PORT:
      value: "5678"

ingress:
  enabled: true
  className: nginx-internal
  annotations:
    # Ensure client body size is large enough for file uploads
    nginx.ingress.kubernetes.io/proxy-body-size: "50m"
  hosts:
    - host: n8n.arjunreddie.com
      paths:
        - path: /
          pathType: ImplementationSpecific

resources:
  requests:
    cpu: 100m
    memory: 256Mi
  limits:
    cpu: 1000m
    memory: 1024Mi
